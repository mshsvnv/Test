{"openapi":"3.0.1","info":{"title":"Интернет-магазин теннисных ракеток","description":"# _В основе лежит мой курсовой проект \uD83D\uDE0E_","contact":{},"version":"2.0"},"servers":[{"url":"/api/v1"}],"paths":{"/auth/login":{"post":{"tags":["Auth"],"summary":"Вход в личный кабинет пользователя","description":"Метод для входа в личный кабинет пользователя","requestBody":{"description":"Вход пользователя","content":{"*/*":{"schema":{"$ref":"#/components/schemas/dto.LoginReq"}}},"required":true},"responses":{"200":{"description":"Пользователь успешно авторизовался","content":{"image/jpeg":{"schema":{"$ref":"#/components/schemas/dto.LoginRes"}},"application/json":{"schema":{"$ref":"#/components/schemas/dto.LoginRes"}}}},"400":{"description":"Некорректное тело запроса","content":{"image/jpeg":{"schema":{"$ref":"#/components/schemas/http.StatusBadRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/http.StatusBadRequest"}}}},"401":{"description":"Вход неуспешен","content":{"image/jpeg":{"schema":{"$ref":"#/components/schemas/http.StatusUnauthorized"}},"application/json":{"schema":{"$ref":"#/components/schemas/http.StatusUnauthorized"}}}}},"x-codegen-request-body-name":"req"}},"/auth/login/verify":{"post":{"tags":["Auth"],"summary":"Проверка дополнительного кода при авторизации","description":"Метод для проверки дополнительного кода при авторизации","requestBody":{"description":"Вход пользователя","content":{"*/*":{"schema":{"$ref":"#/components/schemas/dto.LoginVerifyReq"}}},"required":true},"responses":{"200":{"description":"Пользователь успешно авторизовался","content":{"*/*":{"schema":{"$ref":"#/components/schemas/dto.LoginRes"}}}},"400":{"description":"Некорректное тело запроса","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusBadRequest"}}}},"401":{"description":"Вход неуспешен","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusUnauthorized"}}}}},"x-codegen-request-body-name":"req"}},"/auth/register":{"post":{"tags":["Auth"],"summary":"Вход в аккаунт пользователя","description":"Метод для регистрации в интернет-магазине","requestBody":{"description":"Регистрация пользователя","content":{"*/*":{"schema":{"$ref":"#/components/schemas/dto.RegisterReq"}}},"required":true},"responses":{"200":{"description":"Пользователь успешно авторизовался","content":{"*/*":{"schema":{"$ref":"#/components/schemas/dto.RegisterRes"}}}},"400":{"description":"Некорректное тело запроса","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusBadRequest"}}}},"500":{"description":"Внутренняя ошибка регистрации пользователя","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}},"x-codegen-request-body-name":"dto.RegisterReq"}},"/auth/reset_password":{"post":{"tags":["Auth"],"summary":"Смена пароля авторизованного пользователя","description":"Метод для смены пароля авторизованного пользователя","requestBody":{"description":"Вход пользователя","content":{"*/*":{"schema":{"$ref":"#/components/schemas/dto.LoginReq"}}},"required":true},"responses":{"200":{"description":"Пароль успешно изменен","content":{"*/*":{"schema":{"$ref":"#/components/schemas/dto.LoginRes"}}}},"400":{"description":"Некорректное тело запроса","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusBadRequest"}}}},"401":{"description":"Вход неуспешен","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusUnauthorized"}}}}},"x-codegen-request-body-name":"req"}},"/auth/reset_password/verify":{"post":{"tags":["Auth"],"summary":"Проверка дополнительного кода при смене пароля","description":"Метод для проверки дополнительного кода при смене пароля","requestBody":{"description":"Вход пользователя","content":{"*/*":{"schema":{"$ref":"#/components/schemas/dto.VerifyResetPasswordReq"}}},"required":true},"responses":{"200":{"description":"Пользователь успешно авторизовался","content":{"*/*":{"schema":{"$ref":"#/components/schemas/dto.LoginRes"}}}},"400":{"description":"Некорректное тело запроса","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusBadRequest"}}}},"401":{"description":"Вход неуспешен","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusUnauthorized"}}}}},"x-codegen-request-body-name":"req"}},"/cart":{"get":{"tags":["User"],"summary":"Получение содержимого корзины","description":"Метод для получения содержимого корзины","responses":{"200":{"description":"Корзина благополучно получена","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.CartRes"}}}},"400":{"description":"Некорректное тело запроса","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusBadRequest"}}}},"401":{"description":"Пользователь не авторизован","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusUnauthorized"}}}},"500":{"description":"Внутренняя ошибка получения корзины","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}},"security":[{"BearerAuth":[]}]},"post":{"tags":["User"],"summary":"Добавление ракетки в корзину","description":"Метод для добавления ракетки в корзину","requestBody":{"description":"Информация для добавления ракетки в корзину","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.AddRacketCartReq"}}},"required":true},"responses":{"200":{"description":"Корзина благополучно изменена","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.CartRes"}}}},"400":{"description":"Некорректное тело запроса","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusBadRequest"}}}},"401":{"description":"Пользователь не авторизован","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusUnauthorized"}}}},"500":{"description":"Внутренняя ошибка изменения корзины","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}},"security":[{"BearerAuth":[]}],"x-codegen-request-body-name":"req"}},"/cart/rackets/{id}":{"put":{"tags":["User"],"summary":"Изменения количества ракеток в корзине","description":"Метод изменения количества ракеток в корзине","parameters":[{"name":"id","in":"path","description":"Индентефикатор ракетки","required":true,"schema":{"type":"integer"}}],"requestBody":{"description":"Информация для удаления ракетки из корзины","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.UpdateRacketCartReq"}}},"required":true},"responses":{"200":{"description":"Корзина благополучно изменена","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.CartRes"}}}},"400":{"description":"Некорректное тело запроса","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusBadRequest"}}}},"401":{"description":"Пользователь не авторизован","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusUnauthorized"}}}},"500":{"description":"Внутренняя ошибка удаления из корзины","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}},"security":[{"BearerAuth":[]}],"x-codegen-request-body-name":"req"},"delete":{"tags":["User"],"summary":"Удаление ракетки из корзины","description":"Метод для удаления ракетки в корзину","parameters":[{"name":"id","in":"path","description":"Индентефикатор ракетки","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Корзина благополучно изменена","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.CartRes"}}}},"400":{"description":"Некорректное тело запроса","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusBadRequest"}}}},"401":{"description":"Пользователь не авторизован","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusUnauthorized"}}}},"500":{"description":"Внутренняя ошибка удаления из корзины","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}},"security":[{"BearerAuth":[]}]}},"/orders":{"get":{"tags":["Admin & User"],"summary":"Получение заказов в инетрнет-магазине","description":"Метод для получения заказов в инетрнет-магазине","parameters":[{"name":"pattern","in":"query","description":"Значение для фильтрации","schema":{"type":"string"}},{"name":"field","in":"query","description":"Поле для фильтрации и сортировки","schema":{"type":"string"}},{"name":"sort","in":"query","description":"Направление сортировки","schema":{"type":"string"}}],"responses":{"200":{"description":"Список заказов","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.OrdersRes"}}}},"401":{"description":"Пользователь не авторизован","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusUnauthorized"}}}},"500":{"description":"Внутренняя ошибка при изменении статуса заказа","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}},"security":[{"BearerAuth":[]}]},"post":{"tags":["User"],"summary":"Создание заказа","description":"Метод для создания заказа","requestBody":{"description":"Информация о заказе","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.PlaceOrderReq"}}},"required":true},"responses":{"200":{"description":"Информация об успешности создания заказа","content":{"*/*":{"schema":{"type":"string"}}}},"400":{"description":"Некорректное тело запроса","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusBadRequest"}}}},"401":{"description":"Пользователь не авторизован","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusUnauthorized"}}}},"500":{"description":"Внутренняя ошибка при размещении заказа","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}},"security":[{"BearerAuth":[]}],"x-codegen-request-body-name":"req"}},"/orders/{id}":{"get":{"tags":["Admin"],"summary":"Получение заказа по идентефикатору","description":"Метод для получения заказа по идентефикатору","parameters":[{"name":"id","in":"query","description":"Идентефикатор заказа","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Внутренняя ошибка при изменении статуса заказа","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}},"security":[{"BearerAuth":[]}]},"patch":{"tags":["Admin"],"summary":"Изменение статуса заказа","description":"Метод для изменения статуса заказа","parameters":[{"name":"id","in":"path","description":"Идентефикатор заказа","required":true,"schema":{"type":"integer"}}],"requestBody":{"description":"Информация о новом статусе","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.UpdateOrderReq"}}},"required":true},"responses":{"200":{"description":"Информация об изменении статуса заказа","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.OrderRes"}}}},"401":{"description":"Пользователь не авторизован","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusUnauthorized"}}}},"500":{"description":"Внутренняя ошибка при изменении статуса заказа","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}},"security":[{"BearerAuth":[]}],"x-codegen-request-body-name":"req"}},"/profile":{"get":{"tags":["User"],"summary":"Получение информации об авторизованном пользователе","description":"Метод для получения информации об авторизованном пользователе","responses":{"200":{"description":"Информация о конеретном пользователе","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.UserRes"}}}},"401":{"description":"Пользователь не авторизован","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusUnauthorized"}}}},"500":{"description":"Внутренняя ошибка получения информации о пользователе","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}},"security":[{"BearerAuth":[]}]}},"/rackets":{"get":{"tags":["All"],"summary":"Получение списка всех ракеток в магазине","description":"Метод для получения списка всех ракеток в магазине","parameters":[{"name":"pattern","in":"query","description":"Значение для фильтрации","schema":{"type":"string"}},{"name":"field","in":"query","description":"Поле для фильтрации и сортировки","schema":{"type":"string"}},{"name":"sort","in":"query","description":"Направление сортировки","schema":{"type":"string"}}],"responses":{"200":{"description":"Список ракеток благополучно получен","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.RacketsRes"}}}},"500":{"description":"Внутренняя ошибка получения списка ракеток","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}}},"post":{"tags":["Admin"],"summary":"Добавление ракетки в магазин","description":"Метод для добавления ракетки в интернет-магазин","requestBody":{"content":{"multipart/form-data":{"schema":{"required":["image"],"type":"object","properties":{"avaliable":{"type":"boolean"},"balance":{"type":"number"},"brand":{"type":"string"},"head_size":{"type":"number"},"price":{"type":"number"},"quantity":{"type":"integer","format":"int32"},"weight":{"type":"number"},"image":{"type":"string","description":"Изображение ракетки","format":"binary"}}}},"application/json":{"schema":{"required":["image"],"type":"object","properties":{"avaliable":{"type":"boolean"},"balance":{"type":"number"},"brand":{"type":"string"},"head_size":{"type":"number"},"price":{"type":"number"},"quantity":{"type":"integer","format":"int32"},"weight":{"type":"number"},"image":{"type":"string","description":"Изображение ракетки","format":"binary"}}}}},"required":true},"responses":{"200":{"description":"Ракетка благополучна добавлена","content":{"image/jpeg":{"schema":{"$ref":"#/components/schemas/http.RacketRes"}},"application/json":{"schema":{"$ref":"#/components/schemas/http.RacketRes"}}}},"400":{"description":"Некорректное тело запроса","content":{"image/jpeg":{"schema":{"$ref":"#/components/schemas/http.StatusBadRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/http.StatusBadRequest"}}}},"500":{"description":"Внутренняя ошибка добавления ракетки","content":{"image/jpeg":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}},"application/json":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}},"security":[{"BearerAuth":[]}]}},"/rackets/{id}":{"get":{"tags":["All"],"summary":"Получение информации о конкретной ракетке","description":"Метод для получения информации о конкретной ракетке","parameters":[{"name":"id","in":"path","description":"Идентификатор ракетки","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Список ракеток благополучно получен","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.RacketRes"}}}},"500":{"description":"Внутренняя ошибка получения списка ракеток","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}}},"patch":{"tags":["Admin"],"summary":"Изменение статуса ракетки","description":"Метод для изменения статуса ракетки в интернет-магазин","parameters":[{"name":"id","in":"path","description":"Индентефикатор ракетки","required":true,"schema":{"type":"integer"}}],"requestBody":{"description":"Информация о ракетке на изменение","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.UpdateRacketReq"}}},"required":true},"responses":{"200":{"description":"Ракетка благополучна изменена","content":{"*/*":{"schema":{"type":"string"}}}},"400":{"description":"Некорректное тело запроса","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusBadRequest"}}}},"500":{"description":"Внутренняя ошибка добавления ракетки","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}},"security":[{"BearerAuth":[]}],"x-codegen-request-body-name":"req"}},"/users":{"get":{"tags":["Admin"],"summary":"Получение информации о всех пользователех","description":"Метод для получения информации информации о всех пользователех","responses":{"200":{"description":"Информация о всех пользователях","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.UsersRes"}}}},"500":{"description":"Внутренняя ошибка получения списка пользователей","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}},"security":[{"BearerAuth":[]}]}},"/users/{id}":{"get":{"tags":["Admin"],"summary":"Получение информации о конкретном пользователе","description":"Метод для получения информации о конкретном пользователе","parameters":[{"name":"id","in":"path","description":"Идентификатор пользователя","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Информация о конеретном пользователе","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.UserRes"}}}},"500":{"description":"Внутренняя ошибка получения списка ракеток","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}},"security":[{"BearerAuth":[]}]},"put":{"tags":["Admin"],"summary":"Изменение роли пользователя","description":"Метод для Изменение роли пользователя","parameters":[{"name":"id","in":"path","description":"Идентефикатор пользователя","required":true,"schema":{"type":"integer"}}],"requestBody":{"description":"Роль пользователя","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.UpdateReq"}}},"required":true},"responses":{"200":{"description":"Информация о всех пользователях","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.UserRes"}}}},"400":{"description":"Некорректное тело запроса","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusBadRequest"}}}},"500":{"description":"Внутренняя ошибка получения списка пользователей","content":{"*/*":{"schema":{"$ref":"#/components/schemas/http.StatusInternalServerError"}}}}},"security":[{"BearerAuth":[]}],"x-codegen-request-body-name":"req"}}},"components":{"schemas":{"dto.LoginReq":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"dto.LoginRes":{"type":"object","properties":{"access_token":{"type":"string"}}},"dto.LoginVerifyReq":{"type":"object","properties":{"code":{"type":"string"},"email":{"type":"string"}}},"dto.RegisterReq":{"type":"object","properties":{"email":{"type":"string"},"name":{"type":"string"},"password":{"type":"string"},"surname":{"type":"string"}}},"dto.RegisterRes":{"type":"object","properties":{"access_token":{"type":"string"}}},"dto.VerifyResetPasswordReq":{"type":"object","properties":{"email":{"type":"string"},"old_password":{"type":"string"},"string":{"type":"string"}}},"http.AddRacketCartReq":{"type":"object","properties":{"quantity":{"type":"integer"},"racket_id":{"type":"integer"}}},"http.Cart":{"type":"object","properties":{"lines":{"type":"array","items":{"$ref":"#/components/schemas/model.CartLine"}},"quantity":{"type":"integer"},"total_price":{"type":"number"}}},"http.CartRes":{"type":"object","properties":{"cart":{"$ref":"#/components/schemas/http.Cart"}}},"http.OrderRes":{"type":"object","properties":{"order":{"$ref":"#/components/schemas/model.Order"}}},"http.OrdersRes":{"type":"object","properties":{"orders":{"type":"array","items":{"$ref":"#/components/schemas/model.Order"}}}},"http.PlaceOrderReq":{"type":"object","properties":{"address":{"type":"string"},"delivery_date":{"type":"string","format":"2006-01-02T15:07:00Z"},"recepient_name":{"type":"string"}}},"http.RacketRes":{"type":"object","properties":{"racket":{"$ref":"#/components/schemas/model.Racket"}}},"http.RacketsRes":{"type":"object","properties":{"rackets":{"type":"array","items":{"$ref":"#/components/schemas/model.Racket"}}}},"http.StatusBadRequest":{"type":"object","properties":{"error":{"type":"string","example":"Incorrect request body"}}},"http.StatusInternalServerError":{"type":"object","properties":{"error":{"type":"string","example":"Internal error"}}},"http.StatusUnauthorized":{"type":"object","properties":{"error":{"type":"string","example":"Cant login user"}}},"http.UpdateOrderReq":{"type":"object","properties":{"status":{"type":"string"}}},"http.UpdateRacketCartReq":{"type":"object","properties":{"quantity":{"type":"integer"}}},"http.UpdateRacketReq":{"type":"object","properties":{"quantity":{"type":"integer"}}},"http.UpdateReq":{"type":"object","properties":{"role":{"type":"string"}}},"http.User":{"type":"object","properties":{"email":{"type":"string"},"name":{"type":"string"},"role":{"type":"string"},"surname":{"type":"string"}}},"http.UserRes":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/http.User"}}},"http.UsersRes":{"type":"object","properties":{"users":{"type":"array","items":{"$ref":"#/components/schemas/http.User"}}}},"model.CartLine":{"type":"object","properties":{"id":{"type":"integer"},"price":{"type":"number"},"quantity":{"type":"integer"}}},"model.Order":{"type":"object","properties":{"address":{"type":"string"},"creation_date":{"type":"string","format":"2006-01-02T15:04:05"},"delivery_date":{"type":"string","format":"2006-01-02T15:04:05"},"id":{"type":"integer"},"lines":{"type":"array","items":{"$ref":"#/components/schemas/model.OrderLine"}},"recepient_name":{"type":"string"},"status":{"type":"string"},"total_price":{"type":"number"},"user_id":{"type":"integer"}}},"model.OrderLine":{"type":"object","properties":{"quantity":{"type":"integer"},"racket_id":{"type":"integer"}}},"model.Racket":{"type":"object","properties":{"avaliable":{"type":"boolean"},"balance":{"type":"number"},"brand":{"type":"string"},"headsize":{"type":"number"},"id":{"type":"integer"},"image":{"type":"array","items":{"type":"integer"}},"price":{"type":"integer"},"quantity":{"type":"integer"},"weight":{"type":"number"}}}},"securitySchemes":{"BearerAuth":{"type":"apiKey","name":"Authorization","in":"header"}}},"x-original-swagger-version":"2.0"}